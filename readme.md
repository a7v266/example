
# Пример сервера

Сервер предназначен для отработки взаимодействия по REST API.

Для запуска сервера версии 0.0.1 необходимо выполнить команду
````
java -jar example-0.0.1.jar
````
Сервер обрабатывает HTTP запросы, приходящие на порт 8080. 
Для получения документации в онлайн режиме необходимо в браузере открыть страницу http://localhost:8080/swagger-ui.html 



## Спецификация API

### Producer API
| Команда | Запрос | Описание | 
| --- | --- | --- |
| GET | /producer | получить список поставщиков |
````
{
    "items":[
            {
                "id": 1,
                "creationDate": 1592562220334,
                "modificationDate": 1592562220334,
                "name": "Поставщик 1",
                "code": "Код поставщика 1",
                "spName": "spName поставщика 1",
                "description": "Описание поставщика 1",
                "external": true,
                "active": true,
                "inputCount": 10,
                "errorCount": 3,
                "lastErrorDate": 1592562220401
            },
            {"id": 2, "creationDate": 1592562220344, "modificationDate": 1592562220344, "name": "Поставщик Поставщик 2",…},
            {"id": 3, "creationDate": 1592562220345, "modificationDate": 1592562220345, "name": "Поставщик Поставщик Поставщик 3",…},
            {"id": 4, "creationDate": 1592562220347, "modificationDate": 1592562220347, "name": "Поставщик Поставщик Поставщик Поставщик 4",…},
            {"id": 5, "creationDate": 1592562220349, "modificationDate": 1592562220349, "name": "Поставщик Поставщик Поставщик Поставщик Поставщик 5",…},
            {"id": 6, "creationDate": 1592562220350, "modificationDate": 1592562220350, "name": "Поставщик 6",…},
            {"id": 7, "creationDate": 1592562220351, "modificationDate": 1592562220351, "name": "Поставщик Поставщик 7",…},
            {"id": 8, "creationDate": 1592562220352, "modificationDate": 1592562220352, "name": "Поставщик Поставщик Поставщик 8",…},
            {"id": 9, "creationDate": 1592562220353, "modificationDate": 1592562220353, "name": "Поставщик Поставщик Поставщик Поставщик 9",…},
            {"id": 10, "creationDate": 1592562220355, "modificationDate": 1592562220355, "name": "Поставщик Поставщик Поставщик Поставщик Поставщик 10",…}
    ],
    "pageNumber": 1,
    "pageSize": 10,
    "pageCount": 2
}

````
| Поле | Тип | Сортировка | Фильтры | Описание | 
| --- | --- | --- | --- | --- |
| id | number | есть | | идентификатор поставщика |
| creationDate | number | есть   | | дата создания поставщика |
| modificationDate | number | есть | | дата изменения поставщика |
| name | string | есть | name_like| наименование поставщика |
| code | string | есть | code_like| код поставщика |
| spName| string | есть | spName_like| spName поставщика |
| description | string | | | описание поставщика |
| external | boolean | | | поставщик внешний |
| active | boolean | | | поставщик активен |
| inputCount | number | | | количество поступлений за сутки по поставщику |
| errorCount | number | | | количество ошибочных поступлений за сутки по поставщику |
| lastErrorDate | number | | | дата последнего ошибочного поступления для поставщика |




## Дополнительная информация
#### Пагинация
Для пагинации используются параметры **pageNumber** и **pageSize**.
В параметре **pageNumber** передается номер страницы.
Нумерация страниц начинается с единицы. 
По умолчанию **pageNumber=1**.
В параметре **pageSize** передается количество элементов на странице.
По умолчанию **pageSize=10**.
Недопустима передача только одного параметра.
Необходимо либо передавать оба параметра, либо не передавать ни одного.

##### Получить 20 поставщиков на странице 2: 
````
GET /producer?pageNumber=2&pageSize=20
````

#### Сортировка
Для сортировки используется парамерт **sort**.
В параметре **sort** через запятую перечисляются поля, по которым должен быть отсортирован список элементов.
При указании символа *минус* перед полем, сортировка по этому полю выполняется по убыванию.
При указании символа *плюс* перед полем, сортировка по этому полю выполняется по возрастанию.
При отсутствии перед полем символов *плюс* или *минус* сортировка выполняется по возрастанию.   

##### Получить список поставщиков, отсортированных по убыванию имени, поставщики с совпадающими именами будут отсортированы по возрастанию идентификаторов:
````
GET /producer?sort=-name,id
````

#### Фильтрация
Для фильтрации списка элементов используются параметры вида *поле=значение* и *поле_фильтр=значение*.
Например, запрос с параметром **name=Поставщик** вернет список элементов, у которох поле **name** равно **Поставщик**.
Запрос с параметром **name_like=Поставщик** вернет список элементов, у которых поле **name** содержит строку **Поставщик**.

##### Получить список поставщиков, наименование которых содержит строку "Поставщик":
````
GET /producer?name_like=Поставщик
````

